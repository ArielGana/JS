<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Formulario de Envío</title>
    <link rel="stylesheet" href="css/styleventa.css">
</head>

<body>
    <nav>
        <ul>
            <a href="index.html"><img id="logo" src="img/10144779.png" alt="Logo de la Empresa"></a>
            <li><a href="semillas.html">Semillas</a></li>
            <li>
                <a id="fertilizantes" href="fertilizantes.html?tipo=todo">Fertilizantes</a>
                <ul class="submenu" id="fertilizantesSubmenu">
                </ul>
            </li>
            <li>
                <a id="plantas" href="plantas.html?tipo=todo">Plantas</a>
                <ul class="submenu" id="plantasSubmenu">
                </ul>
            </li>
            <li><a href="sustratos.html">Sustratos</a></li>
            <li><a href="sustrato_preparados.html">Sustratos Preparados</a></li>
            <li class="user-login"><a href="#"><img src="img/user.png" alt="Icono de Usuario"></a></li>
        </ul>
    </nav>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const plantasSubmenu = document.getElementById('plantasSubmenu');
            const enlacePlantas = document.getElementById('plantas');

            // Función para cargar los productos
            function loadProducts(filter) {
                // Tu código para cargar productos aquí
            }

            // Obtener los tipos de plantas desde la base de datos
            fetch('https://paginasweb88.000webhostapp.com/files/get_tipos.php')
                .then(response => response.json())
                .then(tipos => {
                    // Generar las opciones del submenú basadas en los tipos
                    var i = 0;
                    tipos.forEach(tipo => {
                        const urls = [
                            'plantas.html?tipo=' + tipo,
                        ];
                        console.log(urls);
                        const opcion = document.createElement('li');
                        const enlaceOpcion = document.createElement('a');
                        enlaceOpcion.textContent = tipo;
                        enlaceOpcion.setAttribute('data-tipo', tipo); // Usamos un atributo personalizado para almacenar el tipo
                        enlaceOpcion.classList.add('filtroTipo'); // Clase para agregar eventos
                        enlaceOpcion.setAttribute('href', urls[i] || '#');  // Asignar la URL correspondiente o '#' si no existe
                        opcion.appendChild(enlaceOpcion);
                        plantasSubmenu.appendChild(opcion);
                    });

                    // Agregar eventos a las opciones del submenú
                    const filtroTipos = document.querySelectorAll('.filtroTipo');
                    filtroTipos.forEach(opcion => {
                        opcion.addEventListener('click', function () {
                            const tipo = this.getAttribute('data-tipo');
                            loadProducts(tipo);
                        });
                    });
                })
                .catch(error => console.error('Error al cargar tipos de plantas:', error));
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const productContainer = document.querySelector('.product-list');
            const plantasSubmenu = document.getElementById('fertilizantesSubmenu');
            const enlacePlantas = document.getElementById('fertilizantes');


            // Obtener los tipos de plantas desde la base de datos
            fetch('https://paginasweb88.000webhostapp.com/files/get_tipos_ferti.php')
                .then(response => response.json())
                .then(tipos => {
                    // Generar las opciones del submenú basadas en los tipos
                    var i = 0;
                    // Generar las opciones del submenú basadas en los tipos
                    tipos.forEach(tipo => {
                        const urls = [
                            'fertilizantes.html?tipo=' + tipo
                        ];
                        const opcion = document.createElement('li');
                        const enlaceOpcion = document.createElement('a');
                        enlaceOpcion.textContent = tipo;
                        enlaceOpcion.setAttribute('data-tipo', tipo); // Usamos un atributo personalizado para almacenar el tipo
                        enlaceOpcion.classList.add('filtroTipo'); // Clase para agregar eventos
                        enlaceOpcion.setAttribute('href', urls[i] || '#');  // Asignar la URL correspondiente o '#' si no existe
                        opcion.appendChild(enlaceOpcion);
                        plantasSubmenu.appendChild(opcion);
                    });

                    // Agregar eventos a las opciones del submenú
                    const filtroTipos = document.querySelectorAll('.filtroTipo');
                    filtroTipos.forEach(opcion => {
                        opcion.addEventListener('click', function () {
                            const tipo = this.getAttribute('data-tipo');
                            loadProducts(tipo);
                        });
                    });
                })
                .catch(error => console.error('Error al cargar tipos de plantas:', error));


        });
    </script>

    <div class="container">
        
        <div class="usuario"><div>
            <div class="cart">
                <h2>Usuario</h2>
                <ul>
                    <li>Producto 1</li>
                    <li>Producto 2</li>
                    <!-- Agrega más productos aquí -->
                </ul>
            </div>
        </div>
            <form action="#" method="post">
                <legend id="title">Datos De Compra</legend>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required><br><br>

                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" required><br><br>

                <label for="rut">Rut:</label>
                <input type="text" id="rut" name="rut" required><br><br>

                <label for="correo">Correo:</label>
                <input type="email" id="correo" name="correo" required><br><br>

                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" required><br><br>

                <label for="ciudad">Ciudad:</label>
                <input type="text" id="ciudad" name="ciudad" required><br><br>

                <label for="comuna">Comuna:</label>
                <input type="text" id="comuna" name="comuna" required><br><br>

                <label for="direccion">Dirección:</label>
                <input type="text" id="direccion" name="direccion" required><br><br>

                <label for="tipo_envio">Tipo de Envío:</label>
                <select id="tipo_envio" name="tipo_envio">
                    <option value="agencia">Agencia</option>
                    <option value="casa">A la Casa</option>
                    <option value="retiro">Retiro En Local</option>
                </select><br><br>

                <input type="submit" value="Comprar">
            </form>


        </div>
        <div class="left-panel">
            <div class="cart">
                <h2>Carrito de Compras</h2>
                <ul>
                    <li>Producto 1</li>
                    <li>Producto 2</li>
                    <!-- Agrega más productos aquí -->
                </ul>
            </div>
            <div>
                <div class="cart">
                    <h2>Envio</h2>
                    <ul>
                        <li>Producto 1</li>
                        <li>Producto 2</li>
                        <!-- Agrega más productos aquí -->
                    </ul>
                </div>
            </div>
        </div>

    </div>
</body>

</html>