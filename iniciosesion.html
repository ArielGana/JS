<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styleinicio.css">
    <title>Iniciar Sesión</title>
    <!-- Tu enlace a hojas de estilo, scripts, etc. aquí -->
</head>
<body>
    <nav>
        <ul>
            <a href="index.html"><img id="logo" src="img/10144779.png" alt="Logo de la Empresa"></a>
            <li><a href="semillas.html">Semillas</a></li>
            <li>
                <a id="fertilizantes" href="fertilizantes.html?tipo=todo">Fertilizantes</a>
                <ul class="submenu" id="fertilizantesSubmenu">
                </ul>
            </li>
            <li>
                <a id="plantas" href="plantas.html?tipo=todo">Plantas</a>
                <ul class="submenu" id="plantasSubmenu">
                </ul>
            </li>
            <li><a href="sustratos.html">Sustratos</a></li>
            <li><a href="sustrato_preparados.html">Sustratos Preparados</a></li>
           
        </ul>
    </nav>
    <div class="login-container">
        <h2>Iniciar Sesión</h2>
        <form action="https://paginasweb88.000webhostapp.com/files/post_inicio_sesion.php" method="POST">
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="correo" required>

            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="contrasena" required>
            <a href="registro.html">Registrate</a>
            <button type="submit">Iniciar Sesión</button>
        </form>
    </div>
    <div id="error-modal" class="modal">
        <div class="modal-content">
          <span id="error-message" class="error-message"></span>
        </div>
      </div>
      
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const form = document.querySelector("form");
          const errorMessage = document.getElementById("error-message");
          const errorModal = document.getElementById("error-modal"); // Agregamos el elemento modal
      
          form.addEventListener("submit", function (event) {
            event.preventDefault();
      
            const formData = new FormData(form);
      
            fetch(form.action, {
              method: "POST",
              body: formData,
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.error) {
                  errorMessage.textContent = data.error;
      
                  // Mostrar la ventana emergente de error
                  showErrorModal();
      
                  // Cerrar la ventana emergente después de 2 segundos
                  setTimeout(() => {
                    hideErrorModal();
                  }, 2000); // 2000 milisegundos = 2 segundos
                }
               // window.location.href = "https://paginasweb88.000webhostapp.com/index.html";
               window.history.back();
              })
              .catch((error) => {
                console.error("Error:", error);
              });
          });
      
          // Función para mostrar la ventana emergente de error
          function showErrorModal() {
            errorModal.style.display = "block"; // Muestra la ventana emergente
          }
      
          // Función para ocultar la ventana emergente de error
          function hideErrorModal() {
            errorModal.style.display = "none"; // Oculta la ventana emergente
          }
        });
      </script>
      
    
    
</body>
</html>
